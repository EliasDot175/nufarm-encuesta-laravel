<?php 
use App\Http\Controllers\Controller;
class EncuestasController extends BaseController {

    /**
     * Mustra la lista con todos los usuarios
     */
    public function formularioEncuesta()
    {
        $encuesta = Encuesta::all(); 

        // Con el método all() le estamos pidiendo al modelo de Usuario
        // que busque todos los registros contenidos en esa tabla y los devuelva en un Array

        return View::make('encuesta.formulario', array('encuesta' => $encuesta));

        // El método make de la clase View indica cual vista vamos a mostrar al usuario 
        //y también pasa como parámetro los datos que queramos pasar a la vista. 
        // En este caso le estamos pasando un array con todos los usuarios
    }

     public function crearEncuesta()
    {

        Encuesta::create(Input::all());
        // el método create nos permite crear un nuevo usuario en la base de datos, este método es proporcionado por Laravel
        // create recibe como parámetro un arreglo con datos de un modelo y los inserta automáticamente en la base de datos
        // en este caso el arreglo es la información que viene desde un formulario y la obtenemos con el metido Input::all()
        /*SEGUNDA OPCION----------------------------------------------------
        $input = array(
            'nombre' =>'pepe',
            'apellido' => 'pepe',
        );
        Usuario::create($input);*/
        // Equivalente a
        // INSERT INTO `carros`(`id`, `nombre`, `apellido`, , `created_at`, `updated_at`)
        // VALUES (NULL, 'pepe','pepe' , NOW(), NOW())----------------------

        return Redirect::to('/');
    // el método redirect nos devuelve a la ruta de mostrar la lista de los usuarios

    }


}
